import OpenAI from "openai";
import { appDataService } from './appDataService';
import { appPolicies, getPolicyInfo } from './appPolicies';

// ุงููุธุงู ุงูุฐูู ุงููุชูุฏู ููุชุฌุงุฑุฉ ุงูุฅููุชุฑูููุฉ
export class IntelligentECommerceAI {
  private openai: OpenAI | null = null;
  private huggingFaceKey: string | null = null;

  constructor() {
    // ุชููุฆุฉ OpenAI ุฅุฐุง ูุงู ุงูููุชุงุญ ูุชููุฑ
    if (process.env.OPENAI_API_KEY) {
      this.openai = new OpenAI({
        apiKey: process.env.OPENAI_API_KEY,
      });
    }
    
    this.huggingFaceKey = process.env.HUGGINGFACE_API_KEY || null;
  }

  // ุงูุชุญูู ูู ุชููุฑ ุฎุฏูุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู
  private isAIEnabled(): boolean {
    return !!(this.openai || this.huggingFaceKey);
  }

  // ุงุณุชุฏุนุงุก OpenAI GPT ููุญุตูู ุนูู ุฅุฌุงุจุงุช ุฐููุฉ
  private async callOpenAI(prompt: string): Promise<string> {
    if (!this.openai) {
      throw new Error('OpenAI service not available');
    }

    try {
      const response = await this.openai.chat.completions.create({
        model: "gpt-4o", // ุฃุญุฏุซ ูููุฐุฌ OpenAI
        messages: [
          {
            role: "system",
            content: `ุฃูุช ูุณุชุดุงุฑ ุฎุจูุฑ ูู ุงูุชุฌุงุฑุฉ ุงูุฅููุชุฑูููุฉ ูุงูุฃุนูุงู ุงูุชุฌุงุฑูุฉ ุงูุฑูููุฉ. ูุฏูู ุฎุจุฑุฉ ุนูููุฉ ูู:
- ุงุณุชุฑุงุชูุฌูุงุช ุงูุชุณููู ุงูุฑููู ูุงูุฅุนูุงู ุงููุชูุฏู
- ุชุญููู ุงูุณูู ูุงูููุงูุณุฉ ูุงุฎุชูุงุฑ ุงูููุชุฌุงุช ุงูุฑุงุจุญุฉ
- ุฅุฏุงุฑุฉ ุงูุนูููุงุช ูุงูุฎุฏูุงุช ุงูููุฌุณุชูุฉ ูุงูุชูุฑูุฏ
- ุชุทููุฑ ุงูุนูุงูุงุช ูุน ุงูุนููุงุก ูุฎุฏูุฉ ูุง ุจุนุฏ ุงูุจูุน
- ุงูุชุญููู ุงููุงูู ูุงูุชุฎุทูุท ุงูุงุณุชุฑุงุชูุฌู ุทููู ุงููุฏู
- ุงูุชูููุงุช ุงูุญุฏูุซุฉ ูุฃุฏูุงุช ุงูุชุฌุงุฑุฉ ุงูุฅููุชุฑูููุฉ
- ููู ุนููู ููุณูู ุงูุนุฑุจู ูุงูุซูุงูุฉ ุงููุญููุฉ
- ุงุณุชุฑุงุชูุฌูุงุช ุงูููู ูุงูุชูุณุน ุงูุฏููู

ูุฏู ุฅุฌุงุจุงุช ููุตูุฉ ูุนูููุฉ ููุฎุตุตุฉ ุชูุงูุงู ููู ุณุคุงู. ููุฑ ุจุนูู ูุญูู ุงูููุถูุน ูู ุฌููุน ุงูุฒูุงูุง ูุจู ุงูุฅุฌุงุจุฉ.`
          },
          {
            role: "user",
            content: prompt
          }
        ],
        max_tokens: 2000,
        temperature: 0.7,
      });

      return response.choices[0].message.content || 'ูู ูุชููู ุงููุธุงู ูู ุชูุฏูู ุฅุฌุงุจุฉ';
    } catch (error) {
      console.error('ุฎุทุฃ ูู OpenAI:', error);
      throw error;
    }
  }

  // ุงุณุชุฏุนุงุก Hugging Face ูุจุฏูู
  private async callHuggingFace(prompt: string): Promise<string> {
    if (!this.huggingFaceKey) {
      throw new Error('Hugging Face service not available');
    }

    try {
      const response = await fetch(
        "https://api-inference.huggingface.co/models/microsoft/DialoGPT-large",
        {
          headers: {
            Authorization: `Bearer ${this.huggingFaceKey}`,
            "Content-Type": "application/json",
          },
          method: "POST",
          body: JSON.stringify({
            inputs: prompt,
            parameters: {
              max_length: 1000,
              temperature: 0.8,
              do_sample: true,
            },
          }),
        }
      );

      if (!response.ok) {
        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
      }

      const result = await response.json();
      return result.generated_text || result[0]?.generated_text || 'ูู ูุชููู ุงููุธุงู ูู ุชูุฏูู ุฅุฌุงุจุฉ';
    } catch (error) {
      console.error('ุฎุทุฃ ูู Hugging Face:', error);
      throw error;
    }
  }

  // ุงูุชูููุฑ ุงูุนููู ูุงูุฅุฌุงุจุฉ ุงูุฐููุฉ ูุน ุจูุงูุงุช ุงูุชุทุจูู
  async thinkAndRespond(question: string): Promise<string> {
    // ุฌูุจ ุจูุงูุงุช ุงูุชุทุจูู ุงูุญููููุฉ
    const appData = await this.getAppData();
    
    if (!this.isAIEnabled()) {
      return this.generateIntelligentResponseWithData(question, appData);
    }

    // ุฅุถุงูุฉ ุจูุงูุงุช ุงูุชุทุจูู ุงูุญููููุฉ ููุฐูุงุก ุงูุงุตุทูุงุนู
    const appContext = appData ? `
ูุนูููุงุช ุงูุชุทุจูู ุงูุญุงููุฉ:
- ููุดุฆ ุงูุชุทุจูู: ${appData.appInfo.creator}
- ุนุฏุฏ ุงูููุชุฌุงุช: ${appData.currentStats.summary}
- ุงูุฃุฑุจุงุญ: ${appData.currentStats.profit}
- ุงููุจูุนุงุช: ${appData.currentStats.sales}
- ุญุงูุฉ ุงูุทูุจุงุช: ${appData.currentStats.orderStatus}
- ุงูููุชุฌุงุช ุงููุชููุฑุฉ: ${appData.products.map(p => `${p.name} (${p.price} ุฏ.ุน)`).join(', ')}
` : '';

    const enhancedPrompt = `
ุงูุณุคุงู: "${question}"

ุงูุณูุงู: ููุตุฉ ุชุฌุงุฑุฉ ุฅููุชุฑูููุฉ ุนุฑุจูุฉ ูุชูุฏูุฉ ูุน ุฐูุงุก ุงุตุทูุงุนู
${appContext}

ุชุนูููุงุช ููุชูููุฑ ุงูุนููู:
1. ุญูู ุงูุณุคุงู ุจุนูู ูุงุณุชุฎุฑุฌ ุงููุฏู ุงูุญูููู ูุฑุงุกู
2. ุงุณุชุฎุฏู ุงูุจูุงูุงุช ุงูุญููููุฉ ููุชุทุจูู ูู ุฅุฌุงุจุชู
3. ููุฑ ูู ุฌููุน ุงูุฌูุงูุจ ุงููุฑุชุจุทุฉ ุจุงูููุถูุน
4. ุงุฑุจุท ุงูุฅุฌุงุจุฉ ุจุงูุณูุงู ุงูุนุฑุจู ูุงูุซูุงูุฉ ุงููุญููุฉ
5. ูุฏู ุญููู ุนูููุฉ ููุงุจูุฉ ููุชุทุจูู ููุฑุงู
6. ุงุณุชุฎุฏู ุงูุฃุฑูุงู ูุงูุฅุญุตุงุฆูุงุช ุงูุญููููุฉ ุนูุฏ ุงูุญุงุฌุฉ
7. ุงุฌุนู ุงูุฅุฌุงุจุฉ ุดุงููุฉ ูููุตูุฉ

ูุฏู ุฅุฌุงุจุฉ ุงุญุชุฑุงููุฉ ููุฎุตุตุฉ ุชูุงูุงู ููุฐุง ุงูุณุคุงูุ ููุง ูู ููุช ูุณุชุดุงุฑ ุฎุจูุฑ ูุฌูุณ ูุน ุงูุนููู ุดุฎุตูุงู.
`;

    try {
      // ูุญุงููุฉ ุงุณุชุฎุฏุงู OpenAI ุฃููุงู
      if (this.openai) {
        return await this.callOpenAI(enhancedPrompt);
      }
      
      // ุงุณุชุฎุฏุงู Hugging Face ูุจุฏูู
      if (this.huggingFaceKey) {
        return await this.callHuggingFace(enhancedPrompt);
      }
      
      throw new Error('No AI service available');
    } catch (error) {
      console.error('ุฎุทุฃ ูู ุงูุฐูุงุก ุงูุงุตุทูุงุนู:', error);
      
      // ุฅุฌุงุจุฉ ุงุญุชูุงุทูุฉ ุฐููุฉ ูุน ุจูุงูุงุช ุงูุชุทุจูู
      return this.generateIntelligentResponseWithData(question, appData);
    }
  }

  // ุฌูุจ ุจูุงูุงุช ุงูุชุทุจูู ุงูุญููููุฉ
  private async getAppData() {
    try {
      return await appDataService.generateDataSummary();
    } catch (error) {
      console.error('ุฎุทุฃ ูู ุฌูุจ ุจูุงูุงุช ุงูุชุทุจูู:', error);
      return null;
    }
  }

  // ุฅุฌุงุจุฉ ุฐููุฉ ูุน ุจูุงูุงุช ุงูุชุทุจูู ุงูุญููููุฉ
  private generateIntelligentResponseWithData(question: string, appData: any): string {
    const questionLower = question.toLowerCase();
    
    // ุฅุฌุงุจุงุช ุญูู ุฃุณุนุงุฑ ุงูุชูุตูู
    if (questionLower.includes('ุชูุตูู') || questionLower.includes('ุดุญู') || questionLower.includes('ูู ุชูููุฉ')) {
      const delivery = appPolicies.delivery;
      return `ุฃุณุนุงุฑ ุงูุชูุตูู ูู ุงูุชุทุจูู:

๐ **ุจุบุฏุงุฏ: ${delivery.baghdadPrice.toLocaleString('ar-SA')} ุฏ.ุน**
๐ **ุงููุญุงูุธุงุช: ${delivery.provincesPrice.toLocaleString('ar-SA')} ุฏ.ุน**
โฐ **ูุฏุฉ ุงูุชูุตูู: ${delivery.estimatedTime}**

${delivery.description}

ุทูุฑู **ุตูุงุญ ููุฏู** ููููุฑ ุฎุฏูุฉ ุชูุตูู ููุซููุฉ ูุณุฑูุนุฉ ูุฌููุน ุฃูุญุงุก ุงูุนุฑุงู.`;
    }

    // ุฅุฌุงุจุงุช ุญูู ุณูุงุณุฉ ุงูุฅุฑุฌุงุน ูุงูุงุณุชุจุฏุงู
    if (questionLower.includes('ุฅุฑุฌุงุน') || questionLower.includes('ุงุณุชุจุฏุงู') || questionLower.includes('ุณูุงุณุฉ')) {
      const returnPolicy = appPolicies.returnPolicy;
      const rules = returnPolicy.rules.map(rule => `โข ${rule}`).join('\n');
      return `**${returnPolicy.title}:**

${rules}

**ููู ุฌุฏุงู:** ููุฑุฌู ูุญุต ุงูููุชุฌ ุจุนูุงูุฉ ุฃุซูุงุก ุชูุงุฌุฏ ุงูููุฏูุจ ูุชุฌูุจ ุฃู ูุดุงูู ูุงุญูุฉ.

ูุฐู ุงูุณูุงุณุฉ ูุถุนูุง **ุตูุงุญ ููุฏู** ูุถูุงู ุญููู ุฌููุน ุงูุฃุทุฑุงู ูุงูุญุฏ ูู ุงูุฃุฎุทุงุก.`;
    }

    // ุฅุฌุงุจุงุช ุญูู ุงูุดุฑูุท ูุงูุฃุญูุงู
    if (questionLower.includes('ุดุฑูุท') || questionLower.includes('ุฃุญูุงู') || questionLower.includes('ูุงููู') || questionLower.includes('ูุณุคูููุฉ')) {
      const terms = appPolicies.termsAndConditions;
      let response = `**${terms.title}**\n\n`;
      
      terms.sections.forEach(section => {
        response += `**${section.title}:**\n`;
        section.content.forEach(item => {
          response += `โข ${item}\n`;
        });
        response += '\n';
      });
      
      return response + `ุชู ูุถุน ูุฐู ุงูุดุฑูุท ูู ูุจู **ุตูุงุญ ููุฏู** ูุถูุงู ุงุณุชุฎุฏุงู ุขูู ูุนุงุฏู ููุชุทุจูู.`;
    }

    // ุฅุฌุงุจุงุช ูุญุฏุฏุฉ ููุฃุณุฆูุฉ ุญูู ุงูุชุทุจูู
    if (questionLower.includes('ูู ููุชุฌ') || questionLower.includes('ุนุฏุฏ ุงูููุชุฌุงุช')) {
      if (appData && typeof appData === 'object' && 'products' in appData) {
        const productsList = appData.products.map((p: any) => `โข ${p.name} - ${p.price} ุฏ.ุน (ูุฎุฒูู: ${p.stock})`).join('\n');
        return `ูุฏูู ุญุงููุงู **${appData.products.length} ููุชุฌ** ูู ุงูุชุทุจูู:

${productsList}

ุชู ุชุทููุฑ ูุฐุง ุงูุชุทุจูู ูู ูุจู **ุตูุงุญ ููุฏู**ุ ููุชุถูู ูุธุงู ุฅุฏุงุฑุฉ ูุชูุฏู ููููุชุฌุงุช ูุน ุชุญุฏูุซ ูุณุชูุฑ ูููุฎุฒูู.`;
      }
    }

    if (questionLower.includes('ุฃุฑุจุงุญ') || questionLower.includes('ูู ุฑุจุญุช')) {
      if (appData?.currentStats) {
        return `ุฅุญุตุงุฆูุงุช ุงูุฃุฑุจุงุญ ุงูุญุงููุฉ:

๐ฐ **${appData.currentStats.profit}**
๐ **${appData.currentStats.sales}**
๐ฆ **${appData.currentStats.orderStatus}**

ูุฐุง ุงูุชุทุจูู ุงููุชูุฏู ุงูุฐู ุตููู ูุทูุฑู **ุตูุงุญ ููุฏู** ูููุฑ ุชุชุจุนุงู ุฏูููุงู ููุฃุฑุจุงุญ ูุงููุจูุนุงุช ูุน ุชุญุฏูุซ ูุณุชูุฑ ููุจูุงูุงุช.`;
      }
    }

    if (questionLower.includes('ุทูุจุงุช') || questionLower.includes('ุฃูุฑุฏุฑ') || questionLower.includes('ูุจูุนุงุช')) {
      if (appData?.currentStats && appData?.recentActivity) {
        const recentOrders = appData.recentActivity.map((order: any) => 
          `โข ุทูุจ #${order.id} - ${order.status} - ${order.total} ุฏ.ุน - ${order.customerName}`
        ).join('\n');
        
        return `ุญุงูุฉ ุงูุทูุจุงุช ูู ุงูุชุทุจูู:

๐ **${appData.currentStats.orderStatus}**

ุขุฎุฑ ุงูุทูุจุงุช:
${recentOrders}

ูููู ุงููุธุงู ุงููุชูุฏู ุงูุฐู ุจุฑูุฌู **ุตูุงุญ ููุฏู** ุจุชุชุจุน ุฌููุน ุงูุทูุจุงุช ูุชุญุฏูุซ ุญุงูุชูุง ููุฑุงู ูุน ุฅุฑุณุงู ุฅุดุนุงุฑุงุช ููุนููุงุก.`;
      }
    }

    if (questionLower.includes('ููุดุฆ') || questionLower.includes('ูุทูุฑ') || questionLower.includes('ุตูุงุญ') || questionLower.includes('ูู ุตูู')) {
      return `๐จโ๐ป **ููุดุฆ ุงูุชุทุจูู: ุตูุงุญ ููุฏู**

ูุฐุง ุงูุชุทุจูู ุชู ุชุทููุฑู ุจุงููุงูู ูู ูุจู **ุตูุงุญ ููุฏู**ุ ููู ูุทูุฑ ูุชุฎุตุต ูู:
โข ุฃูุธูุฉ ุงูุชุฌุงุฑุฉ ุงูุฅููุชุฑูููุฉ ุงููุชูุฏูุฉ
โข ุชุทุจููุงุช ุงููุงุชู ูุงูููุจ
โข ุฃูุธูุฉ ุงูุฐูุงุก ุงูุงุตุทูุงุนู
โข ูุงุฌูุงุช ุงููุณุชุฎุฏู ุงูุนุฑุจูุฉ

ุงูููุฒุงุช ุงูุชู ุทูุฑูุง ูู ูุฐุง ุงูุชุทุจูู:
โ ูุธุงู ุฅุฏุงุฑุฉ ุดุงูู ููููุชุฌุงุช ูุงูุทูุจุงุช
โ ูุณุงุนุฏ ุฐูู ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู
โ ุชุญูููุงุช ูุฅุญุตุงุฆูุงุช ูุชูุฏูุฉ
โ ูุงุฌูุฉ ุนุฑุจูุฉ ุณููุฉ ุงูุงุณุชุฎุฏุงู
โ ูุธุงู ูุณุชุฎุฏููู ูุชุทูุฑ

ุงูุชุทุจูู ูุชู ุชุญุฏูุซู ูุตูุงูุชู ุจุงุณุชูุฑุงุฑ ูุถูุงู ุฃูุถู ุฃุฏุงุก ูุฃุญุฏุซ ุงูููุฒุงุช.`;
    }

    // ุชุญููู ุนุงู ููุฃุณุฆูุฉ ุงูุฃุฎุฑู
    return this.generateIntelligentFallback(question);
  }

  // ุฅุฌุงุจุฉ ุงุญุชูุงุทูุฉ ุฐููุฉ ุชุญูู ุงูุณุคุงู
  private generateIntelligentFallback(question: string): string {
    const keywords = question.toLowerCase();
    
    // ุชุญููู ุฐูู ููุณุคุงู ูุชูุฏูู ุฅุฌุงุจุฉ ููุงุณุจุฉ
    if (keywords.includes('ูุจูุนุงุช') || keywords.includes('ุฒูุงุฏุฉ') || keywords.includes('ุฑุจุญ')) {
      return this.analyzeAndRespondToSales(question);
    }
    
    if (keywords.includes('ุชุณููู') || keywords.includes('ุฅุนูุงู') || keywords.includes('ุชุฑููุฌ')) {
      return this.analyzeAndRespondToMarketing(question);
    }
    
    if (keywords.includes('ุนููุงุก') || keywords.includes('ุฎุฏูุฉ') || keywords.includes('ุฏุนู')) {
      return this.analyzeAndRespondToCustomerService(question);
    }
    
    if (keywords.includes('ููุชุฌ') || keywords.includes('ุงุฎุชูุงุฑ') || keywords.includes('ูุฎุฒูู')) {
      return this.analyzeAndRespondToProducts(question);
    }
    
    if (keywords.includes('ูููุน') || keywords.includes('ุชุทููุฑ') || keywords.includes('ุชุญุณูู')) {
      return this.analyzeAndRespondToWebsite(question);
    }
    
    // ุชุญููู ุนุงู ููุฃุณุฆูุฉ ุงูููุชูุญุฉ
    return this.analyzeGeneralQuestion(question);
  }

  private analyzeAndRespondToSales(question: string): string {
    return `ุจูุงุกู ุนูู ุชุญููู ุณุคุงูู ุญูู "${question}", ุฅููู ุงุณุชุฑุงุชูุฌูุฉ ุดุงููุฉ ูุฒูุงุฏุฉ ุงููุจูุนุงุช:

๐ฏ ุงูุชุญููู ุงูุนููู:
ูุจุฏู ุฃูู ุชุณุนู ูุชุญุณูู ุงูุฃุฏุงุก ุงูุชุฌุงุฑู. ุงููุฌุงุญ ูู ุฒูุงุฏุฉ ุงููุจูุนุงุช ูุชุทูุจ ููู ุนููู ูุนุฏุฉ ุนูุงูู ูุชุฑุงุจุทุฉ.

๐ ุงูุงุณุชุฑุงุชูุฌูุฉ ุงููุฎุตุตุฉ:
โข ุชุญููู ุงูุจูุงูุงุช ุงูุญุงููุฉ ูููู ุฃููุงุท ุงูุดุฑุงุก
โข ุชุญุณูู ุชุฌุฑุจุฉ ุงูุนููู ูู ูู ูุฑุญูุฉ ูู ุฑุญูุฉ ุงูุดุฑุงุก
โข ุชุทููุฑ ุนุฑูุถ ูููุนุฉ ุชุฑูุฒ ุนูู ุงููููุฉ ุงููุถุงูุฉ
โข ุงุณุชุบูุงู ุงูุชุณููู ุงูููุณู ูุชูููุงุช ุงูุฅููุงุน

๐ก ุงูุชุทุจูู ุงูุนููู:
โข ุฅูุดุงุก ุญููุงุช ุชุฑููุฌูุฉ ูุณุชูุฏูุฉ ุจูุงุกู ุนูู ุจูุงูุงุช ุงูุนููุงุก
โข ุชุญุณูู ุตูุญุงุช ุงูููุชุฌุงุช ุจุชูููุงุช ุงูุชุญููู ุงููุชูุฏูุฉ
โข ุชุทููุฑ ุจุฑูุงูุฌ ุฅุญุงูุฉ ูุญูุฒ ุงูุนููุงุก ุงูุญุงูููู
โข ุงุณุชุฎุฏุงู ุงูุจุฑุงููู ุงูุงุฌุชูุงุนูุฉ ูุงูุชููููุงุช ุงูุฅูุฌุงุจูุฉ

๐ ุงูุชูููุฐ ุงูููุฑู:
ุงุจุฏุฃ ุจุชุญููู ุฃูุถู 3 ููุชุฌุงุช ูุฏูู ูุทุจู ุนูููุง ูุฐู ุงูุชุญุณููุงุช ุฎูุงู ุงูุฃุณุจูุน ุงููุงุฏู.`;
  }

  private analyzeAndRespondToMarketing(question: string): string {
    return `ุชุญููู ุนููู ูุงุณุชูุณุงุฑู ุญูู "${question}":

๐ง ููู ุงูุณุคุงู:
ุฃุฑู ุฃูู ุชูุชู ุจุชุทููุฑ ุงุณุชุฑุงุชูุฌูุฉ ุชุณููููุฉ ูุนุงูุฉ. ูุฐุง ูุชุทูุจ ูููุฌ ุนููู ููุฏุฑูุณ.

๐จ ุงูุฑุคูุฉ ุงูุงุณุชุฑุงุชูุฌูุฉ:
โข ุชุญุฏูุฏ ุงูุฌูููุฑ ุงููุณุชูุฏู ุจุฏูุฉ ุจุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ุงูุฏูููุบุฑุงููุฉ ูุงูุณููููุฉ
โข ุฅูุดุงุก ูููุฉ ุจุตุฑูุฉ ูููุฉ ุชุนูุณ ููู ุนูุงูุชู ุงูุชุฌุงุฑูุฉ
โข ุชุทููุฑ ูุญุชูู ูุญู ูุดุงูู ุญููููุฉ ููุนููุงุก
โข ุจูุงุก ููุน ุชุณูููู ูุชูุงูู ูู ุงููุนู ุฅูู ุงูุดุฑุงุก

๐ ุงูุชุญููู ุงููุชูุฏู:
โข ุงุณุชุฎุฏุงู ุฃุฏูุงุช ุงูุชุญููู ูููู ุณููู ุงูุนููุงุก ุงูุฑููู
โข ุงุฎุชุจุงุฑ A/B ููุฑุณุงุฆู ูุงูุตูุฑ ูุงูุนุฑูุถ
โข ูุฑุงูุจุฉ ูุคุดุฑุงุช ุงูุฃุฏุงุก ุงูุฑุฆูุณูุฉ (KPIs) ุจุงุณุชูุฑุงุฑ
โข ุชุญููู ุงูููุงูุณูู ูุงูุชุดุงู ุงููุฌูุงุช ูู ุงูุณูู

๐ ุฎุทุฉ ุงูุนูู:
1. ุญุฏุฏ ุฃูุฏุงูู ุงูุชุณููููุฉ ุงููุงุถุญุฉ ูุงููุงุจูุฉ ููููุงุณ
2. ุฎุตุต ููุฒุงููุฉ ูุฏุฑูุณุฉ ููู ููุงุฉ ุชุณููููุฉ
3. ุฃูุดุฆ ุชูููู ูุญุชูู ุดูุฑู ูุน ููุงุถูุน ูุชููุนุฉ
4. ุทูุฑ ุนูุงูุงุช ูุน ุงููุคุซุฑูู ูู ูุฌุงูู`;
  }

  private analyzeAndRespondToCustomerService(question: string): string {
    return `ุชุญููู ุดุงูู ูุณุคุงูู "${question}" ุญูู ุฎุฏูุฉ ุงูุนููุงุก:

๐ค ุงูููุณูุฉ ุงูุฃุณุงุณูุฉ:
ุฎุฏูุฉ ุงูุนููุงุก ุงูุงุณุชุซูุงุฆูุฉ ุชุจุฏุฃ ุจููู ุฃู ูู ุชูุงุนู ูุฑุตุฉ ูุจูุงุก ุงูููุงุก ูุชุนุฒูุฒ ุงูุณูุนุฉ.

โก ุงูููุฌ ุงูุนููู:
โข ุชุทููุฑ ูุนุงููุฑ ูุงุถุญุฉ ูุฌูุฏุฉ ุงูุฎุฏูุฉ ูููุงุณูุง
โข ุชุฏุฑูุจ ุงููุฑูู ุนูู ุงูุชุนุงูู ูุน ุงูุญุงูุงุช ุงููุฎุชููุฉ
โข ุฅูุดุงุก ูุงุนุฏุฉ ูุนุฑูุฉ ุดุงููุฉ ููุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ
โข ุงุณุชุฎุฏุงู ุชูููุงุช ุงูุชูุงุตู ุงููุนุงู ูุงูุงุณุชูุงุน ุงููุดุท

๐ง ุงูุฃุฏูุงุช ูุงูุชูููุงุช:
โข ูุธุงู ุชุฐุงูุฑ ูุชูุฏู ูุชุชุจุน ุฌููุน ุงูุงุณุชูุณุงุฑุงุช
โข ุฑูุจูุชุงุช ูุญุงุฏุซุฉ ุฐููุฉ ููุฅุฌุงุจุงุช ุงูููุฑูุฉ
โข ุชูุงูู ูุน ููุตุงุช ุงูุชูุงุตู ุงูุงุฌุชูุงุนู
โข ุชุญููู ูุดุงุนุฑ ุงูุนููุงุก ูู ุฎูุงู ุงููุตูุต

๐ ุงูููุงุณ ูุงูุชุญุณูู:
โข ูุฑุงูุจุฉ ูุคุดุฑุงุช ูุซู ููุช ุงูุงุณุชุฌุงุจุฉ ููุนุฏู ุงูุญููู
โข ุฌูุน ุชููููุงุช ุงูุนููุงุก ุจุนุฏ ูู ุชูุงุนู
โข ุชุญููู ุฃุณุจุงุจ ุงูุดูุงูู ูุชุทููุฑ ุญููู ููุงุฆูุฉ
โข ุชุทููุฑ ุฎุฏูุงุช ุงุณุชุจุงููุฉ ูุจู ุธููุฑ ุงููุดุงูู

๐ ุงูููุณุฉ ุงูุฅูุณุงููุฉ:
ุฑุบู ุงูุชูููุงุช ุงููุชูุฏูุฉุ ุชุฐูุฑ ุฃู ุงูุนูุตุฑ ุงูุจุดุฑู ูุง ูููู ุงุณุชุจุฏุงูู ูู ุจูุงุก ุงูุนูุงูุงุช ุงูุญููููุฉ.`;
  }

  private analyzeAndRespondToProducts(question: string): string {
    return `ุชุญููู ูุชุฎุตุต ูุงุณุชูุณุงุฑู "${question}" ุญูู ุงูููุชุฌุงุช:

๐ฏ ููู ุงูุณูู:
ูุฌุงุญ ุฃู ููุชุฌ ูุจุฏุฃ ุจููู ุนููู ูุงุญุชูุงุฌุงุช ุงูุณูู ูุงูุนููุงุก ุงููุณุชูุฏููู.

๐ ูููุฌูุฉ ุงูุงุฎุชูุงุฑ:
โข ุชุญููู ุงูุงุชุฌุงูุงุช ุจุงุณุชุฎุฏุงู ุฃุฏูุงุช ูุซู Google Trends
โข ุฏุฑุงุณุฉ ุงูููุงูุณุฉ ูุชุญุฏูุฏ ุงููุฌูุงุช ูู ุงูุณูู
โข ุชูููู ููุงูุด ุงูุฑุจุญ ูุงูุฌุฏูู ุงูุงูุชุตุงุฏูุฉ
โข ุงุฎุชุจุงุฑ ุงูุทูุจ ูู ุฎูุงู ุญููุงุช ุตุบูุฑุฉ

๐ ุงูุชุญููู ุงููุงูู:
โข ุญุณุงุจ ููุทุฉ ุงูุชุนุงุฏู ููู ููุชุฌ
โข ุชุญููู ุฏูุฑุฉ ุญูุงุฉ ุงูููุชุฌ ููุฑุงุญูู ุงููุฎุชููุฉ
โข ุชูุฏูุฑ ุงูุชูุงููู ุงูุฎููุฉ (ุชุฎุฒููุ ุชุณูููุ ุฎุฏูุฉ)
โข ูุถุน ุงุณุชุฑุงุชูุฌูุฉ ุชุณุนูุฑ ูุฑูุฉ

๐ ุงูุฅุฏุงุฑุฉ ุงูุฐููุฉ:
โข ูุธุงู ูุฎุฒูู ูุชูุฏู ูุชูุจุฃ ุจุงูุทูุจ
โข ุชูููุน ุงููุตุงุฏุฑ ูุชูููู ุงููุฎุงุทุฑ
โข ุชุทููุฑ ุนูุงูุงุช ูููุฉ ูุน ุงูููุฑุฏูู ุงูููุซูููู
โข ูุฑุงูุจุฉ ุฌูุฏุฉ ุงูููุชุฌุงุช ุจุงุณุชูุฑุงุฑ

๐ก ุงูุงุจุชูุงุฑ ุงููุณุชูุฑ:
โข ุฌูุน ุขุฑุงุก ุงูุนููุงุก ูุชุทููุฑ ุงูููุชุฌุงุช ุงูุญุงููุฉ
โข ุงูุจุญุซ ุนู ููุชุฌุงุช ุชูููููุฉ ุฃู ุจุฏููุฉ
โข ุชุทููุฑ ููุชุฌุงุช ุฎุงุตุฉ ุจุนูุงูุชู ุงูุชุฌุงุฑูุฉ
โข ุงุณุชุบูุงู ุงูููุงุณู ูุงูููุงุณุจุงุช ุงูุฎุงุตุฉ`;
  }

  private analyzeAndRespondToWebsite(question: string): string {
    return `ุชุญููู ุชููู ูุณุคุงูู "${question}" ุญูู ุชุทููุฑ ุงููููุน:

๐๏ธ ุงูุฃุณุณ ุงูุชูููุฉ:
ูููุน ุงูุชุฌุงุฑุฉ ุงูุฅููุชุฑูููุฉ ุงููุงุฌุญ ูุฌูุน ุจูู ุงูุชุตููู ุงูุฌุฐุงุจ ูุงููุธุงุฆู ุงููุชูุฏูุฉ.

โก ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู (UX):
โข ุชุตููู ูุชุฌุงูุจ ูุนูู ุจุณูุงุณุฉ ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ
โข ุณุฑุนุฉ ุชุญููู ูุงุฆูุฉ (ุฃูู ูู 3 ุซูุงู)
โข ุชููู ุจุฏููู ูุณูู ุญุชู ูููุณุชุฎุฏููู ุงูุฌุฏุฏ
โข ุนูููุฉ ุดุฑุงุก ูุจุณุทุฉ ุจุฃูู ุฎุทูุงุช ููููุฉ

๐ ุงูุฃูุงู ูุงูุซูุฉ:
โข ุดูุงุฏุงุช SSL ูุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
โข ูุณุงุฆู ุฏูุน ูุชููุนุฉ ูุขููุฉ ููุณูู ุงููุญูู
โข ุณูุงุณุงุช ูุงุถุญุฉ ููุฎุตูุตูุฉ ูุงูุฅุฑุฌุงุน
โข ุนุฑุถ ุดูุงุฏุงุช ุงูุซูุฉ ูุชููููุงุช ุงูุนููุงุก

๐ฑ ุงูุชุญุณูู ููุฌูุงู:
โข ุชุตููู Mobile-First ูุฃู ูุนุธู ุงูุนุฑุจ ูุชุณูููู ุนุจุฑ ุงูุฌูุงู
โข ุชุทุจูู ุฌูุงู ููุนููุงุก ุงููุฎูุตูู
โข ุชุญุณูู ุงูุณุฑุนุฉ ุฎุตูุตุงู ููุงุชุตุงูุงุช ุงูุจุทูุฆุฉ
โข ุชูุงูู ูุน ุชุทุจููุงุช ุงูุฏูุน ุงููุญููุฉ

๐ ุงูุชุญุณูู ุงููุณุชูุฑ:
โข ุชุญููู ุณููู ุงููุณุชุฎุฏููู ุจุงุณุชุฎุฏุงู Google Analytics
โข ุงุฎุชุจุงุฑ A/B ููุตูุญุงุช ูุงูุนูุงุตุฑ ุงููุฎุชููุฉ
โข ุชุญุณูู ูุญุฑูุงุช ุงูุจุญุซ (SEO) ูููุญุชูู ุงูุนุฑุจู
โข ุชุญุฏูุซ ุงููุญุชูู ูุงูููุฒุงุช ุจูุงุกู ุนูู ููุงุญุธุงุช ุงูุนููุงุก`;
  }

  private analyzeGeneralQuestion(question: string): string {
    return `ุชุญููู ุดุงูู ูุงุณุชูุณุงุฑู: "${question}"

๐ง ููู ุงูุณูุงู:
ุจูุงุกู ุนูู ุณุคุงููุ ุฃุฑู ุฃูู ุชุณุนู ููุญุตูู ุนูู ุชูุฌูู ูุชุฎุตุต ูู ูุฌุงู ุงูุชุฌุงุฑุฉ ุงูุฅููุชุฑูููุฉ.

๐ ุงูุชุญููู ุงูุนููู:
ูู ุณุคุงู ูู ุนุงูู ุงูุชุฌุงุฑุฉ ุงูุฅููุชุฑูููุฉ ูุชุฑุงุจุท ูุน ุนุฏุฉ ุฌูุงูุจ ุฃุฎุฑู. ุฏุนูู ุฃูุฏู ูู ููุธูุฑ ุดุงูู:

๐ ุงูุนูุงุตุฑ ุงูุฃุณุงุณูุฉ:
โข ููู ุฌูููุฑู ุงููุณุชูุฏู ูุณููููู ุงูุดุฑุงุฆู
โข ุชุทููุฑ ุนุฑุถ ูููุฉ ูุฑูุฏ ูููุฒู ุนู ุงูููุงูุณูู
โข ุจูุงุก ูุธุงู ุนูููุงุช ูุนุงู ููุงุจู ููุชูุณุน
โข ุฅูุดุงุก ุงุณุชุฑุงุชูุฌูุฉ ุชุณููู ูุชูุงููุฉ

๐ก ุงูุฃููููุงุช ุงูุงุณุชุฑุงุชูุฌูุฉ:
1. ุฑูุฒ ุนูู ุญู ูุดููุฉ ุญููููุฉ ููุนููุงุก
2. ุงุจุฏุฃ ุตุบูุฑุงู ูุงุฎุชุจุฑ ุงูููุฑุฉ ูุจู ุงูุชูุณุน
3. ุงุณุชุซูุฑ ูู ุจูุงุก ุงูุซูุฉ ูุงูุณูุนุฉ ูู ุงูุจุฏุงูุฉ
4. ุทูุฑ ุฃูุธูุฉ ููุงุณ ูุงุถุญุฉ ูุชุชุจุน ุงููุฌุงุญ

๐ ุฎุทุฉ ุงูุนูู:
โข ุญุฏุฏ ุฃูุฏุงูู ุงููุงุถุญุฉ ูุงููุงุจูุฉ ููููุงุณ
โข ุถุน ุฎุทุฉ ุฒูููุฉ ูุงูุนูุฉ ููุชูููุฐ
โข ุฎุตุต ููุฒุงููุฉ ููุงุณุจุฉ ููู ุฌุงูุจ ูู ุงูุฃุนูุงู
โข ุงุจุญุซ ุนู ูุฑุดุฏูู ุฃู ูุณุชุดุงุฑูู ุฎุจุฑุงุก ูู ุงููุฌุงู

๐ฏ ุงููุตูุญุฉ ุงูุฐูุจูุฉ:
ุงููุฌุงุญ ูู ุงูุชุฌุงุฑุฉ ุงูุฅููุชุฑูููุฉ ูุฃุชู ูู ุงูุชุฑููุฒ ุนูู ุชูุฏูู ูููุฉ ุญููููุฉ ููุนููุงุกุ ูููุณ ููุท ุจูุน ุงูููุชุฌุงุช. ุงุจูู ุนูุงูุงุช ุทูููุฉ ุงููุฏู ูุงุณุชูุน ูุงุญุชูุงุฌุงุช ุนููุงุฆู ุจุงุณุชูุฑุงุฑ.`;
  }
}

export const intelligentAI = new IntelligentECommerceAI();